project_id = "ximxgnkpcswbvfrkkmjq"

# ── User-facing functions: JWT verification DISABLED ──────────────────
# Platform-level verify_jwt is incompatible with the signing-keys system.
# All these functions perform manual auth validation (Authorization header
# → scoped Supabase client → getUser()) so authentication is still enforced.

[functions.send-message]
verify_jwt = false

[functions.stripe-create-checkout]
verify_jwt = false

[functions.stripe-create-payment-intent]
verify_jwt = false

[functions.stripe-connect-onboard]
verify_jwt = false

[functions.stripe-connect-status]
verify_jwt = false

[functions.send-invoice-email]
verify_jwt = false

[functions.create-billing-run]
verify_jwt = false

[functions.stripe-billing-history]
verify_jwt = false

[functions.notify-makeup-offer]
verify_jwt = false

[functions.send-cancellation-notification]
verify_jwt = false

[functions.profile-ensure]
verify_jwt = false

# ── Webhook/public functions: JWT verification DISABLED ──────────────
# These validate identity through other mechanisms (Stripe signature,
# cron secret, public access).

[functions.stripe-webhook]
verify_jwt = false

[functions.marketing-chat]
verify_jwt = false

[functions.send-contact-message]
verify_jwt = false

[functions.calendar-ical-feed]
verify_jwt = false

# ── Cron/system functions: JWT verification DISABLED ─────────────────
# These are called by scheduled jobs with x-cron-secret header auth.

[functions.installment-overdue-check]
verify_jwt = false

[functions.installment-upcoming-reminder]
verify_jwt = false

[functions.waitlist-expiry]
verify_jwt = false

[functions.invoice-overdue-check]
verify_jwt = false

[functions.calendar-refresh-busy]
verify_jwt = false

# ── Zoom integration ────────────────────────────────────────────────

[functions.zoom-oauth-start]
verify_jwt = false

[functions.zoom-oauth-callback]
verify_jwt = false

[functions.zoom-sync-lesson]
verify_jwt = false
